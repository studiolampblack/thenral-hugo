{{ with .Site.Params.CookieConsent }}
<div id="cookie-banner" class="fixed bottom-0 left-0 right-0 bg-zinc-800 text-white text-sm p-4 shadow-lg z-50">
  <div class="max-w-7xl mx-auto flex justify-between items-center">
    <p class="mr-4">
      {{ .Message | default "We use cookies to improve your experience." }} By using our site, you agree to our <a href="{{ .PrivacyPolicyUrl | default "/privacy-policy/" }}">Privacy Policy</a>. <a href="https://www.cookiesandyou.com/">Learn more about cookies</a>.
    </p>
    <button id="accept-cookies" class="bg-sky-500 hover:bg-sky-600 text-white px-4 py-2 rounded">
      {{ .Dismiss | default "Got it!" }}
    </button>
  </div>
</div>

<script>
  document.getElementById('accept-cookies').addEventListener('click', function () {
    document.getElementById('cookie-banner').style.display = 'none';
    localStorage.setItem('cookiesAccepted', 'true');
  });

  if (localStorage.getItem('cookiesAccepted') === 'true') {
    document.getElementById('cookie-banner').style.display = 'none';
  }
</script>
{{ end }}
